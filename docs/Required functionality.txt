Общие требования к разрабатываемому решению.

1. Решение должно работать на платформе 1С:Предприятие.
2. Решение должно предоставлять функционал выполнения опредленных действий (создание групповых чатов, добавление/удаление пользователей и т.д.) в мессенджере "Телеграм" (далее просто Телеграм) от имени зарегистрированных пользователей.
3. Пользователем решения может быть как человек, так и внешняя информационная система. Таким образом, функционал решения должен быть доступен как через пользовательский интерфейс так и через веб-сервисы (для взаимодействия с внешними информационными системами).
4. С учётом анализа существующих способов взаимодействия с Телеграммом из 1С в качестве Телеграм-Клиента (НЕ ПУТАТЬ С ВЗАИМОДЕЙСТВИЕМ В КАЧЕСТВЕ БОТА! это разные API и возможности), и выполненной на практике оценке надёжности имеющихся инструментов, в качестве способа взаимодействия предлагается использовать внешнюю native-компоненту telegramClient_x64.dll - остальные способы не показали на момент проведения тестов необходимых уровней надёжности и стабильности.


Структуры данных разрабатываемого решения.

Взаимодействие с Телеграмм должно осуществляться от имени различных пользователей - телеграм-помощников. Таким образом должен быть перечень доступных для использования телеграмм-помощников (для каждого телеграм-помощника должны хранится свои настройки и т.д.);

Также необходимо вести список телефонных номеров, соответствующих конкретным пользователям. Данные пользователи будут использоваться при создании групповых чатов. Также необходимо вести учёт информации о том, зарегистрирован ли данный пользователь в Телеграмме, о его имени в мессенджере и т.д. Стоит отметить что среди пользователей могут быть и боты, информацию о них также необходимо учитывать и хранить.

Решение должно вести учёт созданных групповых чатов, а также иметь возможность ассоциировать тот или иной групповой чат с определенным контекстом (под контекстом понимается какой-либо предмет обсуждения - это может быть документ/сущность внешней информационной системы или любой другой объект).

Также конфигурация должна иметь возможность управлять созданными групповыми чатами (назначение администраторов, смена названия, корректировка списка пользователей и т.д.

С учётом вышесказанного и платформы, в рамках которой будет разрабатываться описываемое решение можно предварительно выделить следующие структуры данных:
1. Подсистема
1.1 ТелеграмПомощник (все указанные ниже структуры данных включены в данную подсистему);
2. Общие модули
2.1. ТелеграмПомощник;
2.2. ТелегракПомощникКлиент;
3. Справочники
3.1. Телеграм-помощники
3.2. Телеграм-контакты;
3.3. Телеграм-чаты;
4. Регистры сведений
4.1. Запросы и ответы Телеграм


